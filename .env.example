# Application Configuration
PORT=8080
ENV=development
LOG_LEVEL=info
USE_MEMORY_QUEUE=false
WORKER_COUNT=2

# Messaging Provider (auto | telnyx | twilio)
SMS_PROVIDER=auto

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/medspa?sslmode=disable
# Persist conversation history in Postgres (enable only if HIPAA-compliant)
PERSIST_CONVERSATION_HISTORY=true

# Twilio Configuration
TWILIO_ACCOUNT_SID=your_account_sid_here
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_WEBHOOK_SECRET= # optional, defaults to TWILIO_AUTH_TOKEN when empty

# Telnyx Configuration
TELNYX_API_KEY=
TELNYX_MESSAGING_PROFILE_ID=
TELNYX_WEBHOOK_SECRET=
TELNYX_STOP_REPLY=You have been opted out. Reply HELP for info.
TELNYX_HELP_REPLY=Reply STOP to opt out or contact support@medspa.ai.
TELNYX_START_REPLY=You're opted back in. Reply STOP to opt out.
TELNYX_FIRST_CONTACT_REPLY=
TELNYX_VOICE_ACK_REPLY=
TELNYX_RETRY_MAX_ATTEMPTS=5
TELNYX_RETRY_BASE_DELAY=5m
TELNYX_HOSTED_POLL_INTERVAL=15m

# Admin / Compliance
ADMIN_JWT_SECRET=
QUIET_HOURS_START=21:00
QUIET_HOURS_END=07:30
QUIET_HOURS_TZ=UTC
DISCLAIMER_ENABLED=true
DISCLAIMER_LEVEL=medium
DISCLAIMER_FIRST_ONLY=true

# Conversation + AI
# Note: some newer Bedrock models (including Claude Haiku 4.5) require using an inference profile ID/ARN.
# Example (Claude Haiku 4.5): us.anthropic.claude-haiku-4-5-20251001-v1:0
BEDROCK_MODEL_ID=
BEDROCK_EMBEDDING_MODEL_ID= # e.g., amazon.titan-embed-text-v1

# LLM Provider Selection
LLM_PROVIDER=bedrock # bedrock (default) | gemini
LLM_FALLBACK_ENABLED=false # Enable automatic failover to secondary provider
LLM_FALLBACK_PROVIDER=gemini # Provider to use as fallback

# Google Gemini Configuration (for fallback or primary when LLM_PROVIDER=gemini)
# Requires Google Cloud BAA for HIPAA compliance
GEMINI_API_KEY=
GEMINI_MODEL_ID=gemini-2.5-flash
GOOGLE_CLOUD_PROJECT=
GEMINI_LOCATION=us-central1

# Supervisor Configuration
SUPERVISOR_ENABLED=false
SUPERVISOR_MODE=warn # warn | block | edit
SUPERVISOR_MODEL_ID= # defaults to BEDROCK_MODEL_ID when empty
SUPERVISOR_MAX_LATENCY=5s
SUPERVISOR_MAX_LATENCY_MS= # optional override in milliseconds
SUPERVISOR_SYSTEM_PROMPT= # optional override prompt for supervisor reviews
CONVERSATION_QUEUE_URL=http://localhost:4566/000000000000/conversation-events
CONVERSATION_JOBS_TABLE=conversation_jobs
REDIS_ADDR=redis:6379
REDIS_PASSWORD=

# Payment Provider Configuration
PAYMENT_PROVIDER_KEY=your_payment_provider_key_here

# Square Configuration
SQUARE_ACCESS_TOKEN=
SQUARE_LOCATION_ID=
SQUARE_BASE_URL=
SQUARE_WEBHOOK_SIGNATURE_KEY=
SQUARE_SUCCESS_URL=
SQUARE_CANCEL_URL=
DEPOSIT_AMOUNT_CENTS=5000

# Dev/demo only: auto-purge configured test numbers after successful Square sandbox payments.
# Comma-separated digits; 10-digit numbers are assumed US and will be prefixed with "1".
SANDBOX_AUTO_PURGE_PHONE_DIGITS=
SANDBOX_AUTO_PURGE_DELAY=0s

# Nextech EMR Configuration
# Register at https://www.nextech.com/developers-portal
NEXTECH_BASE_URL=https://api-sandbox.nextech.com
NEXTECH_CLIENT_ID=
NEXTECH_CLIENT_SECRET=

# Local AWS / LocalStack Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=localstack
AWS_SECRET_ACCESS_KEY=localstack
AWS_ENDPOINT_OVERRIDE=http://localstack:4566

# AWS Cognito Configuration (for dashboard authentication)
COGNITO_USER_POOL_ID=
COGNITO_CLIENT_ID=
COGNITO_REGION=  # Defaults to AWS_REGION if not set

# Demo Mode Configuration (for 10DLC campaign compliance during testing)
# When enabled, wraps all outbound SMS with prefix/suffix to match registered sample messages
DEMO_MODE=false
DEMO_MODE_PREFIX=AI Wolf Solutions:
DEMO_MODE_SUFFIX= Demo only; no real services. Reply STOP to opt out.
